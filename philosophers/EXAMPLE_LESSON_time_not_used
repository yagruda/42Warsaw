/* ************************************************************************** */
/*                                                                            */
/*                                                        :::      ::::::::   */
/*   EXAMPLE_LESSON_time_not_used                       :+:      :+:    :+:   */
/*                                                    +:+ +:+         +:+     */
/*   By: yhruda <yhruda@student.42warsaw.pl>        +#+  +:+       +#+        */
/*                                                +#+#+#+#+#+   +#+           */
/*   Created: 2025/09/10 13:55:01 by yhruda            #+#    #+#             */
/*   Updated: 2025/09/16 13:09:24 by yhruda           ###   ########.fr       */
/*                                                                            */
/* ************************************************************************** */

#include "philosophers.h"
#include <sys/time.h>
#include <stdio.h>
#include <stdint.h> // for uint64_t

uint64_t get_time(void)
{
	struct timeval tv;
	if (gettimeofday(&tv, NULL))
		return (0);
	return ((tv.tv_sec * (uint64_t)1000) + (tv.tv_usec / 1000));
	
}

long	example_2(void)
{
	uint64_t start_time;
	uint64_t now;

	start_time = get_time();
	usleep(10000);
	now = get_time();
	return (now - start_time);	
}

int main(void)
{
	struct timeval tv;

	gettimeofday(&tv, NULL);
	printf("Hello, Philosophers!\n");
	printf("Years passed since 1970 : %ld years \n", tv.tv_sec / 60 / 60 / 24 / 365); // minutes / hours / days / years
	printf("HEY %ld\n", get_time());
	printf("miliseconds passed %lu\n", example_2());
	

	phil_t philosopher;
	philosopher.phil_id = 1;
	philosopher.thread_handle = 0;
	philosopher.eat_count = 0;

	printf("%d philosopher eat count\n", philosopher.eat_count);

	return (0);
}

